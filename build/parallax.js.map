{"version":3,"sources":["parallax.es6"],"names":["parallaxMouseScroll","settings","scrollTop","windowHeight","triggerPosition","zoom","shift","innerHeight","$","window","on","height","parallaxSelector","each","_section","sectionHeight","outerHeight","_sectionInner","find","animationTriggerStart","animationTriggerEnd","offset","animationLength","coef","css","top","addClass","centerPixelShift","centerPercentShift","y","TweenLite","to","animateDuration","ease","Linear","easeNone","removeClass","parallaxMouseMove","$thisSection","$thisInner","innerSize","lastGamma","lastBeta","rangeGamma","rangeBeta","addEventListener","updateOrientation","e","orientation","alert","roundedGamma","Math","round","gamma","roundedBeta","beta","text","gamaInPercent","betaInPercent","x","sectionWidth","outerWidth","pageX","left","width","pageY","cursorPercentPositionX","cursorPercentPositionY"],"mappings":"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","file":"parallax.js","sourcesContent":["//************************************\n// PARALLAX SCROLL\n//************************************\n\nfunction parallaxMouseScroll(settings) {\n\n\n    var scrollTop, windowHeight, triggerPosition;\n\n    var zoom = settings.zoom;\n    var shift = zoom / 2;\n    var innerHeight = zoom + 100;\n\n\n    $(window).on('scroll load', function () {\n        scrollTop = $(window).scrollTop();\n        windowHeight = $(window).height();\n\n        triggerPosition = scrollTop + windowHeight;\n    })\n\n    $(settings.parallaxSelector).each(function () {\n\n        var _section = $(this);\n        var sectionHeight = _section.outerHeight();\n\n        var _sectionInner = _section.find('.parallax-inner');\n\n        var animationTriggerStart, animationTriggerEnd;\n\n        var offset, animationLength;\n\n        var coef = innerHeight / 100;\n\n\n        _sectionInner.css({\n            'top': -shift + '%',\n            'height': innerHeight + '%'\n        });\n\n\n        $(window).on('load resize', function () {\n\n            offset = _section.offset();\n\n            animationTriggerStart = offset.top;\n\n            animationTriggerEnd = animationTriggerStart + windowHeight;\n\n            animationLength = animationTriggerEnd - animationTriggerStart;\n        });\n\n\n        $(window).on('scroll resize load', function () {\n\n            if (triggerPosition > animationTriggerStart && triggerPosition < animationTriggerEnd + sectionHeight) {\n\n                _section.addClass('active');\n\n                var centerPixelShift = triggerPosition - offset.top - (animationLength * 0.5);\n\n                var centerPercentShift = centerPixelShift / (animationLength / 100) * 2;\n\n                var y = shift / coef / 100 * centerPercentShift;\n\n\n                TweenLite.to(_sectionInner, settings.animateDuration, {y: y + '%', ease: Linear.easeNone});\n\n            }\n\n            else {\n                _section.removeClass('active');\n            }\n\n        })\n\n\n    });\n}\n\nparallaxMouseScroll({\n    parallaxSelector: '.scroll-parallax',\n    zoom: 60,\n    animateDuration: 0\n});\n\n//************************************\n// PARALLAX MOUSE MOVE\n//************************************\n\n\nfunction parallaxMouseMove(settings) {\n\n\n    $(settings.parallaxSelector).each(function () {\n\n        var $thisSection = $(this);\n\n        // console.log(_);\n\n        // var parallaxSelectorParent = $(settings.parallaxParentSelector);\n\n        var animateDuration = settings.animateDuration;\n        var zoom = settings.zoom;\n        var shift = zoom / 2;\n        var $thisSection = $(this);\n        var $thisInner = $thisSection.find('.parallax-inner');\n        var innerSize = shift * 2 + 100;\n        var coef = innerSize / 100;\n\n        var lastGamma , lastBeta, rangeGamma = 0, rangeBeta = 0  ;\n\n        $thisInner.css({\n            'top': -shift + '%',\n            'left': -shift + '%',\n            'height': innerSize + '%',\n            'width': innerSize + '%'\n\n        });\n\n\n        \n\n\n\n\n\n        // Event listener to determine change (horizontal/portrait)\n        window.addEventListener(\"orientationchange\", updateOrientation);\n\n        function updateOrientation(e) {\n            switch (e.orientation)\n            {\n                case 0:\n                    alert('1')\n                    break;\n\n                case -90:\n                    // Do your thing\n                    alert('2')\n                    break;\n\n                case 90:\n                    alert('3')\n                    // Do your thing\n                    break;\n\n                default:\n                    break;\n            }\n        }\n\n\n        // window.addEventListener(\"orientationchange\", function(e) {\n        //\n        //     // console.log(screen.orientation.type);\n        //     $('.debug .beta').text(screen.orientation.type);\n        //\n        // }, false);\n\n\n\n        window.addEventListener(\"deviceorientation\", function (e) {\n\n\n            var roundedGamma = Math.round(e.gamma);\n            var roundedBeta = Math.round(e.beta);\n\n            $('.debug .gamma').text(roundedGamma);\n            $('.debug .beta').text(roundedBeta);\n                \n            if (roundedGamma > lastGamma && rangeGamma < 15) {\n                rangeGamma++;\n            }\n            else if (roundedGamma < lastGamma && rangeGamma > -15) {\n                rangeGamma--;\n            }\n\n            if (roundedBeta > lastBeta && rangeBeta < 15) {\n                rangeBeta++;\n            }\n            else if (roundedBeta < lastBeta && rangeBeta > -15) {\n                rangeBeta--;\n            }\n\n            lastGamma = roundedGamma;\n            lastBeta = roundedBeta;\n\n            var gamaInPercent = (100 / 15) * rangeGamma;\n            var betaInPercent = (100 / 15) * rangeBeta;\n\n\n            var x = shift / coef / 100 * gamaInPercent;\n            var y = shift / coef / 100 * betaInPercent;\n\n\n            $('.debug .x').text(x);\n            $('.debug .y').text(y);\n\n\n            TweenLite.to($thisInner, animateDuration, {x: x + '%', y: y + '%'});\n\n\n        }, true);\n\n\n        $($thisSection).on(\"mousemove\", function (e) {\n\n            var offset = $thisSection.offset();\n\n            var sectionWidth = $thisSection.outerWidth();\n            var sectionHeight = $thisSection.outerHeight();\n\n            var pageX = e.pageX - offset.left - ($thisSection.width() * 0.5);\n            var pageY = e.pageY - offset.top - ($thisSection.height() * 0.5);\n\n            var cursorPercentPositionX = pageX / (sectionWidth / 100) * 2;\n            var cursorPercentPositionY = pageY / (sectionHeight / 100) * 2;\n\n            var x = shift / coef / 100 * cursorPercentPositionX;\n            var y = shift / coef / 100 * cursorPercentPositionY;\n\n            TweenLite.to($thisInner, animateDuration, {x: x + '%', y: y + '%'});\n\n        });\n    });\n}\n\nparallaxMouseMove({\n    // parallaxParentSelector: '.mouseParallax-section',\n    parallaxSelector: '.mouseParallax-section',\n    zoom: 40,\n    animateDuration: 0.5\n});"]}