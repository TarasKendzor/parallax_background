"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){e.fn.parallaxBackground=function(t){var o={init:function(t){var o=e.extend({type:"scroll",zoom:30,gyroPerspective:1400,gyroAnimationType:"shift",animate_duration:.5},t);if("scroll"==o.type){var n=0,i=0,r=0,a=o.zoom,s=a/2,l=a+100;e(window).on("scroll load",function(){n=e(window).scrollTop(),i=e(window).height(),r=n+i}),this.each(function(){var t=e(this),o=t.outerHeight(),n=t.find(".parallax-inner"),a=0,d=0,f=0,p=0,c=l/100;t.css({overflow:"hidden"}),n.css({top:-s+"%",left:0,height:l+"%",width:"100%",position:"absolute"}),e(window).on("load resize",function(){f=t.offset(),a=f.top,d=a+i,p=d-a}),e(window).on("scroll resize load",function(){if(r>a&&r<d+o){t.addClass("active");var e=r-f.top-.5*p,i=e/(p/100)*2,l=s/c/100*i;n.css({transform:"translate3d(0,"+l+"%, 0)"})}else t.removeClass("active")})})}else if("gyro"==o.type){if("undefined"==typeof TweenLite)return void console.warn("TweenMax or TweenLite library is required... https://greensock.com/tweenlite");if("undefined"==typeof CSSPlugin)return void console.warn("CSSPlugin in required... https://greensock.com/CSSPlugin");var d=0,f=0,p=0;e(window).on("load resize",function(){d=window.innerWidth,f=window.innerHeight,p=d>f?"landscape":"portrait"}),this.each(function(){var t=o.animate_duration,n=o.zoom,i=n/2,r=e(this),a=r.find(".parallax-inner"),s=2*i+100,l=s/100,d=0,f=0,c=0,y=0;r.css({overflow:"hidden"}),a.css({top:-i+"%",left:-i+"%",height:s+"%",width:s+"%",position:"absolute"}),"rotate"==o.gyroAnimationType&&(TweenLite.set(r,{perspective:o.gyroPerspective}),TweenLite.set(a,{transformStyle:"preserve-3d"})),window.addEventListener("deviceorientation",function(e){var n=Math.round(e.gamma),r=Math.round(e.beta),s=0,u=0;n>d&&c<15?c++:n<d&&c>-15&&c--,r>f&&y<15?y++:r<f&&y>-15&&y--,d=n,f=r;var h=100/15*c,w=100/15*y;"landscape"==p?(s=i/l/100*w,u=i/l/100*h):(s=i/l/100*h,u=i/l/100*w*-1),"shift"==o.gyroAnimationType?TweenLite.to(a,t,{x:s+"%",y:u+"%"}):"rotate"==o.gyroAnimationType&&TweenLite.to(a,t,{rotationX:-u+"%",rotationY:-s+"%"})},!0),r.on("mousemove",function(e){var n=r.offset(),s=r.outerWidth(),d=r.outerHeight(),f=e.pageX-n.left-.5*r.width(),p=e.pageY-n.top-.5*r.height(),c=f/(s/100)*2,y=p/(d/100)*2,u=i/l/100*c,h=i/l/100*y;"shift"==o.gyroAnimationType?TweenLite.to(a,t,{x:u+"%",y:h+"%"}):"rotate"==o.gyroAnimationType&&TweenLite.to(a,t,{rotationX:h+"%",rotationY:-u+"%"})}),r.mouseleave(function(){"shift"==o.gyroAnimationType?TweenLite.to(a,t,{x:"0%",y:"0%"}):"rotate"==o.gyroAnimationType&&TweenLite.to(a,t,{rotationX:0,rotationY:0})})})}}};return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==(void 0===t?"undefined":_typeof(t))&&t?void e.error("There is no method with the name "+t+", for jQuery.parallaxBackground"):o.init.apply(this,arguments)}}(jQuery);
//# sourceMappingURL=parallaxBackground.min.js.map
